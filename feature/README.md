# 面向特性学习c++

## 什么是特性

特性，就是这个语言为了向计算机表达思维所使用的一些规则。记住这种规则不是语法，语法只是一种风格，或者表象。并不是所有语言都有像现在我们所熟知的这么多单词+语法的。因为这些是无意义的，你背下来c++中表达条件式是`if (<condition>) { <process> } else if (<conditon>) { <process> } ... else { <process> }`是没有意义的，VHDL语言或者shell脚本也有自己的条件表达式。`if`语句的 `else if`或者`else`悬空. 之类的是c++的前端所提供描述思维的词汇和语法规则而已. 为了表达思维, 需要充分的利用语言本身的特性和一些库或者框架. 这就是为什么语言有他的专场.

## 常见特性

- 变量定义
- 算术运算
- 循环
- 方法定义，方法调用
- 递归
- 静态类型系统
- 类型推导
- lambda 方法
- 面向对象
- 垃圾回收
- 指针算术
- goto 语句

## 通用的特性

为什么大部分语言都会有通用的特性, 因为 SICP 里面提到过对于计算机计算最重要的就是两个：数据、过程。

如果站在这个角度去思考，那么我们通用的特性都是为了方便对数据的掌握和对计算的利用。

## 开始学习

比如说，所有初学者学习c++的时候都会被老师叫如何去写一个“hello ，world”出来。

~~~cpp
#include<iostream>
using namespace std;
int main() {
    cout << "hello, world" << endl ;
    return 0 ;
}
~~~

要明白这里使用了一些规则包括面向对象、作用域、方法。但是像`cout` 一样的输出并不是我们主要关心的东西。因为掌握了输出没有任何特别的意义。我们先来看计算机是如何计算的。

~~~cpp
int fib(int n) {
    if (n < 1) {
        return -1;
    } else if (n == 1) {
        return 1;
    } else if (n == 2) {
        return 1;
    } else {
        return fib(n-1) + fib(n-2);
    }
}
int main() {
    fib(10);
    return 0;
}
~~~

我不管学习什么语言，都会上手写一个斐波那契数列。因为这里面体现了一个非常简洁且符合人类直觉，而不是机器的计算思维：递归。(记住，这里我们没有输出结果。)

首先，我们定义了一个方法，方法内部是分支判断，判断一些边界情况（请一定要这么做，不先考虑边界的话很容易忘记。不要因此而带来无妄之灾）。把c++翻译成中文就是：

~~~

fib 方法接收一个 n
    判断 n ：
    当 n 小于 1 时， 返回 -1 （错误机制）
    当 n 等于 1 时， 返回 1  （斐波那契数量的定义）
    当 n 等于 1 时， 返回 1  （斐波那契数量的定义）
    其他情况下    ， 返回 n-1 和 n-2 的 fib 之和 （斐波那契数列的 fib n 的通项公式）

主方法：（运行方法）
    计算 fib 在 n 为 10 的时候的值

~~~

在这个代码片段中，我们定义了两个方法：fib，main。fib 内部有定义了一个临时变量 n。记住，我们称n为方法fib的临时变量，同时他是这个方法的一个参数。这个参数的声明周期时这个方法的运行周期。

## Q&A

有一个朋友，建议我讲一下`#include`和`int main`

在这里我们还没有用到这个`#include`，所以我会放在后面讲，因为这实际上是编译器的事情。

至于这个`int main(){ <body> return 0}` 的结构是因为在Linux下所有程序运行完会有一个返回值，而正常退出的值就是0，其他值还有0~255。所以不是所有的方法都要return 0的比如你就可以写：

~~~cpp
int main() {
    if (1 < 2) {
        return 0;
    } else {
        return 1;
    }
}
~~~

当然这里我们到达不了这个`return 1;`。

那为啥是这个`main()`呢？

其实我这里是偷懒写法，真正的写法是：

~~~cpp
int main(int argc, char **argv, char **env){
    return 0;
}
~~~

三个参数的值分别表示：命令行下参数的数目，参数的字符数组，安符串数组。这个就希望大家自己去了解。

这三个参数都是可以缺省的。

## 下一节

![抽象](./抽象.md)
